<!DOCTYPE html>
<html>

<head>
    #parse("./common/head.vm")
    <title>项目管理系统</title>
    <style>
        body {
            padding: 20px;
        }

        .info {
            margin-top: 30px;
        }

        .layui-table-box {
            height: 80px;
        }

        .layui-border-box {
            height: 79px !important;
        }


        .but {
            width: 50px;
            padding: 10px;
            background: #cccccc;
        }
    </style>
</head>

<body>
<div>
    <a class="but" href="/manage/stack?tag=$!internal.tag">导出堆栈信息</a>
    <a class="but" href="/manage/ram?tag=$!internal.tag">导出内存信息</a>
    <div class="info">
        $!internal.ram
    </div>

</div>

<table class="layui-table" id="tab_ram" lay-filter="tab_ram">
    <thead>
    <tr>
        <th>进程id</th>
        <th>所有者</th>
        <th>优先级</th>
        <th>nice值</th>
        <th>使用虚拟内存</th>
        <th>使用物理内存</th>
        <th>共享内存</th>
        <th>进程状态</th>
        <th>占用CPU</th>
        <th>占用物理内存</th>
        <th>时间总计</th>
        <th>进程名称</th>
    </tr>
    </thead>
    <tbody>
        #if($item)
        <tr>
            <td>$!item.pid</td>
            <td>$!item.USER</td>
            <td>$!item.PR</td>
            <td>$!item.NI</td>
            <td>$!item.VIRT</td>
            <td>$!item.RES</td>
            <td>$!item.SHR</td>
            <td>$!item.S</td>
            <td>$!item.CPU</td>
            <td>$!item.MEM</td>
            <td>$!item.TIME</td>
            <td>$!item.COMMAND</td>
        </tr>
        #else
        <tr>
            <td colspan=12 style="text-align:center">无数据</td>
        </tr>
        #end
    </tbody>
</table>

</body>
<script type="text/javascript">
    ## function loadSuccess() {
    ##     table.render({
    ##         id: 'tab_ram',
    ##         elem: '#tab_ram',
    ##         url: '/manage/internal/list?tag=$!internal.tag',
    ##         height: 'full-52',
    ##         even: true,
    ##         cols: [[
    ##             {field: 'pid', title: '进程id '},
    ##             {field: 'USER', title: '所有者'},
    ##             {field: 'PR', title: '优先级'},
    ##             {field: 'NI', title: 'nice值'},
    ##             {field: 'VIRT', title: '使用虚拟内存'},
    ##             {field: 'RES', title: '使用物理内存'},
    ##             {field: 'SHR', title: '共享内存'},
    ##             {field: 'S', title: '进程状态'},
    ##             {field: '%CPU', title: '占用CPU'},
    ##             {field: '%MEM', title: '占用物理内存'},
    ##             {field: 'TIME+', title: '时间总计'},
    ##             {field: 'COMMAND', title: '进程名称'}
    ##         ]],
    ##         loading: true,
    ##         response: {
    ##             statusCode: 200
    ##         }
    ##     });
    ## }
</script>
</html>